
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.1)

2021-11-24 15:24:34 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.1.6.Final
2021-11-24 15:24:34 [main] INFO  j.c.misumi.billing.batch.Application - Starting Application using Java 11.0.3 on SZ-GADZ051006 with PID 14584 (E:\pleiades\workspace\billing-service-develop\billing-batch\build\libs\billing-batch-1.0.0-SNAPSHOT.jar started by zhuss in D:\pleiades\workspace\rakuraku-auto-test)
2021-11-24 15:24:34 [main] INFO  j.c.misumi.billing.batch.Application - No active profile set, falling back to default profiles: default
2021-11-24 15:24:36 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'producedEventPartitionResolver' and 'jp.co.misumi.fw.event.api.producer.client.database.store.mybatis.ProducedEventPartitionResolver' mapperInterface. Bean already defined with the same name!
2021-11-24 15:24:36 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - Skipping MapperFactoryBean with name 'producedEventTableNameResolver' and 'jp.co.misumi.fw.event.api.producer.client.database.store.mybatis.ProducedEventTableNameResolver' mapperInterface. Bean already defined with the same name!
2021-11-24 15:24:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-11-24 15:24:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2021-11-24 15:24:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-11-24 15:24:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.41]
2021-11-24 15:24:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-11-24 15:24:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4141 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
Registered type handler: 'class java.time.ZonedDateTime'
Property 'mapperLocations' was not specified.
2021-11-24 15:24:43 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-11-24 15:24:44 [main] INFO  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 64731b7f-f7a5-4088-837a-d9c87a6a7051

2021-11-24 15:24:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a84b210, org.springframework.security.web.context.SecurityContextPersistenceFilter@48a274cc, org.springframework.security.web.header.HeaderWriterFilter@699be510, org.springframework.security.web.csrf.CsrfFilter@44cb73c0, org.springframework.security.web.authentication.logout.LogoutFilter@beb78a6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5420c0c8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fe9905d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e18f657, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2dcc4312, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29354084, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3661fddc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d2367ac, org.springframework.security.web.session.SessionManagementFilter@38c9d50e, org.springframework.security.web.access.ExceptionTranslationFilter@357a3ddd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6cfcfb28]
2021-11-24 15:24:44 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2021-11-24 15:24:44 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2021-11-24 15:24:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-11-24 15:24:44 [main] INFO  j.c.misumi.billing.batch.Application - Started Application in 12.036 seconds (JVM running for 13.287)
2021-11-24 15:24:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-11-24 15:24:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
JDBC Connection [HikariProxyConnection@772790252 wrapping org.postgresql.jdbc.PgConnection@3b976a7d] will be managed by Spring
==>  Preparing: SELECT m1.subsidiary_code as subsidiaryCode , m1.ginner_code as ginnerCode , m1.plant_code as plantCode , m1.po_qty as poQty , m1.automatic_po_type as automaticPoType , m2.total_stock_qty as totalStockQty , m2.total_allocate_qty as totalAllocateQty , m2.total_available_qty as totalAvailableQty , m2.current_stock_qty as currentStockQty , m1.reorder_point as reorderPoint , m1.rank as rank , m2.evaluation_unit_price as evaluationUnitPrice , m2.month_begin_stock_qty as monthBeginStockQty , t1.latest_receiving_date as latestReceivingDate , t1.latest_receiving_qty as latestReceivingQty , t1.this_month_shipment_qty as thisMonthShipmentQty , t1.this_year_month_shipping_qty1 as thisYearMonthShippingQty1 , t1.this_year_month_shipping_qty2 as thisYearMonthShippingQty2 , t1.this_year_month_shipping_qty3 as thisYearMonthShippingQty3 , t1.this_year_month_shipping_qty4 as thisYearMonthShippingQty4 , t1.this_year_month_shipping_qty5 as thisYearMonthShippingQty5 , t1.this_year_month_shipping_qty6 as thisYearMonthShippingQty6 , t1.this_year_month_shipping_qty7 as thisYearMonthShippingQty7 , t1.this_year_month_shipping_qty8 as thisYearMonthShippingQty8 , t1.this_year_month_shipping_qty9 as thisYearMonthShippingQty9 , t1.this_year_month_shipping_qty10 as thisYearMonthShippingQty10 , t1.this_year_month_shipping_qty11 as thisYearMonthShippingQty11 , t1.this_year_month_shipping_qty12 as thisYearMonthShippingQty12 , t1.last_year_month_shipping_qty1 as lastYearMonthShippingQty1 , t1.last_year_month_shipping_qty2 as lastYearMonthShippingQty2 , t1.last_year_month_shipping_qty3 as lastYearMonthShippingQty3 , t1.last_year_month_shipping_qty4 as lastYearMonthShippingQty4 , t1.last_year_month_shipping_qty5 as lastYearMonthShippingQty5 , t1.last_year_month_shipping_qty6 as lastYearMonthShippingQty6 , t1.last_year_month_shipping_qty7 as lastYearMonthShippingQty7 , t1.last_year_month_shipping_qty8 as lastYearMonthShippingQty8 , t1.last_year_month_shipping_qty9 as lastYearMonthShippingQty9 , t1.last_year_month_shipping_qty10 as lastYearMonthShippingQty10 , t1.last_year_month_shipping_qty11 as lastYearMonthShippingQty11 , t1.last_year_month_shipping_qty12 as lastYearMonthShippingQty12 , m3.product_code as productCode , m7.po_lead_time as poLeadTime , m7.supplier_code as supplierCode , m6.classify_code as classifyCode FROM m_stock_setting m1 LEFT JOIN t_stock_status m2 ON (m1.subsidiary_code = m2.subsidiary_code AND m1.ginner_code = m2.ginner_code AND m1.plant_code = m2.plant_code ) LEFT JOIN t_receiving_and_shipment_accumulation t1 ON (m1.subsidiary_code = t1.subsidiary_code AND m1.ginner_code = t1.ginner_code AND m1.plant_code = t1.plant_code) JOIN m_product m3 ON (m1.subsidiary_code = m3.subsidiary_code AND m1.ginner_code = m3.ginner_code ) JOIN m_plant m4 ON m1.plant_code = m4.plant_code JOIN m_ginner_info m5 ON (m1.ginner_code = m5.ginner_code AND m1.subsidiary_code = m5.subsidiary_code ) JOIN m_type_code m6 ON m6.type_code = left(m5.inner_code, 7) JOIN (SELECT t.subsidiary_code , t.ginner_code , t.supplier_choice_area_code , t.product_supplier_type , t.supplier_code , t.po_lead_time FROM (SELECT ROW_NUMBER() OVER (PARTITION BY subsidiary_code, ginner_code, supplier_choice_area_code, product_supplier_type ORDER BY subsidiary_code, ginner_code, supplier_choice_area_code, product_supplier_type) rowid , subsidiary_code , ginner_code , supplier_choice_area_code , product_supplier_type , supplier_code , po_lead_time FROM m_product_supplier ) t WHERE t.rowid = 1 ) m7 ON (m3.subsidiary_code = m7.subsidiary_code AND m3.ginner_code = m7.ginner_code ) WHERE m1.subsidiary_code = ? AND ( ( m3.supplier_specify_method_type = '0' AND m7.supplier_choice_area_code = '999' AND m7.product_supplier_type = '1' ) OR ( m3.supplier_specify_method_type = '1' AND m7.supplier_choice_area_code = m4.supplier_choice_area_code AND m7.product_supplier_type = '4' ) )
==> Parameters: CHN(String)
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
Creating a new SqlSession
Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690c0c33]
JDBC Connection [HikariProxyConnection@117519275 wrapping org.postgresql.jdbc.PgConnection@5918f165] will be managed by Spring
==>  Preparing: DELETE FROM t_dead_stock_classify
==> Parameters: 
<==    Updates: 1
Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690c0c33]
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690c0c33]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690c0c33]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690c0c33]
Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
<==      Total: 0
2021-11-24 15:24:45 [main] INFO  j.c.m.b.d.s.DefaultDeadStockToolCreateService - DeadstockToolì¬ˆ—‚ªI—¹‚µ‚Ü‚µ‚½B
2021-11-24 15:24:45 [main] INFO  j.c.m.b.d.s.DefaultDeadStockToolCreateService - æ“¾Œ”F0ŒA“o˜^Œ”:0Œ
Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16a6e5]
2021-11-24 15:24:45 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2021-11-24 15:24:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-11-24 15:24:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
